name: CI for PR Merge

on:
  pull_request:
    branches: [ main, test_main ]

jobs:
  build_and_test:
    # NOTE: Need to provide a valid ref (e.g. SHA, release tag, branch). Github is working to add
    # local reference support. (https://github.community/t/ref-head-in-reusable-workflows/203690)
    uses: cgrindel/bazel-starlib/.github/workflows/build_and_test.yml@1cacb7e9ad69639112f7dbaf84bf6ba1b2995cf2
